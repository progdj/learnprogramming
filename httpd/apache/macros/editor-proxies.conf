<Macro editor-proxy $licenseholderId>
    # Proxy Configuration - Generic
    ProxyRequests Off

    # Sophos Firewall
    ProxyPreserveHost Off

    <Proxy *>
      Order allow,deny
      Allow from all
    </Proxy>

    # Proxy special env variables (https://httpd.apache.org/docs/2.4/mod/mod_proxy_http.html#env)
    # do not use pooled connection for first request
    SetEnv proxy-initial-not-pooled 1

    # Chili Editor
    ProxyTimeout 600
    ProxyPass /CHILI/ http://chili.vrsmedia.online/CHILI/ retry=60 timeout=600
    ProxyPassReverse /CHILI/ http://chili.vrsmedia.online/CHILI/

    # Stylo for Alfa OpenMedia
    <If "'17' == '$licenseholderId'">
        Define STYLO_URL http://salespoint.alfa-openmedia.de:8083/stylo
        Define STYLO_SERVICE_URL http://salespoint.alfa-openmedia.de:8083/ASESalesPoint/ASEService
        Define STYLO_WEBDAV http://salespoint.alfa-openmedia.de/webdav
    </If>

    # Stylo for Rhein Zeitung (rhz)
    <If "'11' == '$licenseholderId'">
        Define STYLO_URL http://admarket-test.rhein-zeitung.net/stylo
        Define STYLO_SERVICE_URL http://admarket-test.rhein-zeitung.net:8084/ASESalesPoint/ASEService
        Define STYLO_WEBDAV http://admarket-test.rhein-zeitung.net:8025/webdav
    </If>

    # Stylo for Rhein Zeitung (rhz production)
    <If "'11' == '$licenseholderId' && 'production' == ENVIRONMENT">
        Define STYLO_URL http://admarket-test.rhein-zeitung.net/stylo
        Define STYLO_SERVICE_URL http://admarket-test.rhein-zeitung.net:8084/ASESalesPoint/ASEService
        Define STYLO_WEBDAV http://admarket-test.rhein-zeitung.net:8025/webdav
    </If>

    <IfDefine STYLO_URL>
        ProxyPass "/stylo" ${STYLO_URL} retry=60 timeout=600 Keepalive=On
        ProxyPassReverse "/stylo" ${STYLO_URL}
    </IfDefine>

    <IfDefine STYLO_SERVICE_URL>
        ProxyPass "/ASEService" ${STYLO_SERVICE_URL} retry=60 timeout=600 Keepalive=Off
        ProxyPassReverse "/ASEService" ${STYLO_SERVICE_URL}
    </IfDefine>

    <IfDefine STYLO_WEBDAV>
        ProxyPass "/webdav" ${STYLO_WEBDAV} retry=60 timeout=600 Keepalive=Off
        ProxyPassReverse "/webdav" ${STYLO_WEBDAV}
    </IfDefine>

</Macro>